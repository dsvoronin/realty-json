{
   "type":"array",
   "items":{
      "$ref":"#/definitions/element"
   },
   "definitions":{
      "element":{
         "oneOf":[
            {
               "$ref":"#/definitions/headerElement"
            },
            {
               "$ref":"#/definitions/formElement"
            }
         ]
      },
      "headerElement":{
         "type":"object",
         "properties":{
            "title":{
               "type":"string"
            },
            "type":{
               "type":"string",
               "enum":[
                  "HEADER"
               ]
            }
         },
         "additionalProperties":false,
         "required":[
            "title",
            "type"
         ]
      },
      "formElement":{
         "type":"object",
         "properties":{
            "title":{
               "type":"string"
            },
            "type":{
               "type":"string"
            },
            "data":{
               "$ref":"#/definitions/paramData"
            },
            "alias":{
               "type":"string"
            },
            "required-condition":{
               "$ref":"#/definitions/someCondition"
            },
            "visible-condition":{
               "$ref":"#/definitions/someCondition"
            }
         },
         "required":[
            "title",
            "type",
            "alias"
         ]
      },
      "paramData":{
         "oneOf":[
            {
               "$ref":"#/definitions/singleParamData"
            },
            {
               "$ref":"#/definitions/multiParamData"
            }
         ]
      },
      "multiParamData":{
         "type":"object",
         "patternProperties":{
            "^((?!singleOf).)*$":{
               "$ref":"#/definitions/paramElement"
            }
         },
         "minProperties":2
      },
      "singleParamData":{
         "type":"object",
         "properties":{
            "singleOf":{
               "$ref":"#/definitions/paramElement"
            }
         },
         "minProperties":1,
         "maxProperties":1,
         "additionalProperties":false
      },
      "paramElement":{
         "anyOf":[
            {
               "$ref":"#/definitions/paramElementAPI"
            },
            {
               "$ref":"#/definitions/paramElementSource"
            }
         ]
      },
      "paramElementAPI":{
         "type":"object",
         "properties":{
            "param":{
               "type":"string"
            },
            "api":{
               "type":"string"
            },
            "value":{
               "type":"string"
            }
         },
         "required":[
            "param"
         ],
         "additionalProperties":false
      },
      "paramElementSource":{
         "type":"object",
         "properties":{
            "param":{
               "type":"string"
            },
            "source":{
               "type":"array",
               "items":{
                  "$ref":"#/definitions/sourceElement"
               }
            },
            "value":{
               "type":"string"
            }
         },
         "required":[
            "param"
         ],
         "additionalProperties":false
      },
      "sourceElement":{
         "type":"object",
         "properties":{
            "title":{
               "type":"string"
            },
            "value":{
               "$ref":"#/definitions/scalar"
            },
            "visible-condition":{
               "$ref":"#/definitions/someCondition"
            }
         },
         "required":[
            "title",
            "value"
         ],
         "additionalProperties":true
      },
      "someCondition":{
         "oneOf":[
            {
               "$ref":"#/definitions/complexCondition"
            },
            {
               "$ref":"#/definitions/simpleCondition"
            },
            {
               "$ref":"#/definitions/inCondition"
            },
            {
               "$ref":"#/definitions/explicitCondition"
            }
         ]
      },
      "explicitCondition":{
         "type":"boolean"
      },
      "complexCondition":{
         "type":"object",
         "properties":{
            "$and":{
               "type":"array",
               "items":{
                  "$ref":"#/definitions/someCondition"
               },
               "minItems":1
            },
            "$or":{
               "type":"array",
               "items":{
                  "$ref":"#/definitions/someCondition"
               },
               "minItems":1
            },
            "$not":{
               "$ref":"#/definitions/someCondition"
            }
         },
         "additionalProperties":false,
         "maxProperties":1,
         "minProperties":1
      },
      "inCondition":{
         "type":"object",
         "minProperties":1,
         "maxProperties":1,
         "patternProperties":{
            ".*":{
               "type":"object",
               "properties":{
                  "$in":{
                     "type":"array",
                     "items":{
                        "$ref":"#/definitions/scalar"
                     }
                  }
               },
               "additionalProperties":false
            }
         },
         "additionalProperties":false
      },
      "simpleCondition":{
         "type":"object",
         "minProperties":1,
         "maxProperties":1,
         "additionalProperties":false,
         "patternProperties":{
            ".*":{
               "$ref":"#/definitions/scalar"
            }
         }
      },
      "scalar":{
         "anyOf":[
            {
               "type":"boolean"
            },
            {
               "type":"string"
            },
            {
               "type":"number"
            },
            {
               "type":"null"
            }
         ]
      }
   }
}